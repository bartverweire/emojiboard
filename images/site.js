(function(){;(function(e){if(typeof exports=="object"&&typeof module!="undefined")module.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,t.Clipboard=e()}})(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){var r=e("matches-selector");t.exports=function(e,t,n){var i=n?e:e.parentNode;while(i&&i!==document){if(r(i,t))return i;i=i.parentNode}}},{"matches-selector":5}],2:[function(e,t,n){function i(e,t,n,r,i){var o=s.apply(this,arguments);return e.addEventListener(n,o,i),{destroy:function(){e.removeEventListener(n,o,i)}}}function s(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t,!0),n.delegateTarget&&i.call(e,n)}}var r=e("closest");t.exports=i},{closest:1}],3:[function(e,t,n){n.node=function(e){return e!==undefined&&e instanceof HTMLElement&&e.nodeType===1},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return e!==undefined&&(t==="[object NodeList]"||t==="[object HTMLCollection]")&&"length"in e&&(e.length===0||n.node(e[0]))},n.string=function(e){return typeof e=="string"||e instanceof String},n.fn=function(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"}},{}],4:[function(e,t,n){function s(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return o(e,t,n);if(r.nodeList(e))return u(e,t,n);if(r.string(e))return a(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function u(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return i(document.body,e,t,n)}var r=e("./is"),i=e("delegate");t.exports=s},{"./is":3,delegate:2}],5:[function(e,t,n){function s(e,t){if(i)return i.call(e,t);var n=e.parentNode.querySelectorAll(t);for(var r=0;r<n.length;++r)if(n[r]==e)return!0;return!1}var r=Element.prototype,i=r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;t.exports=s},{}],6:[function(e,t,n){function r(e){var t;if(e.nodeName==="INPUT"||e.nodeName==="TEXTAREA")e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r),t=n.toString()}return t}t.exports=r},{}],7:[function(e,t,n){function r(){}r.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function i(){r.off(e,i),t.apply(n,arguments)}var r=this;return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var s=0,o=r.length;s<o;s++)r[s].fn!==t&&r[s].fn._!==t&&i.push(r[s]);return i.length?n[e]=i:delete n[e],this}},t.exports=r},{}],8:[function(t,n,r){(function(i,s){if(typeof e=="function"&&e.amd)e(["module","select"],s);else if(typeof r!="undefined")s(n,t("select"));else{var o={exports:{}};s(o,i.select),i.clipboardAction=o.exports}})(this,function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=r(t),i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t){s(this,e),this.resolveOptions(t),this.initSelection()}return e.prototype.resolveOptions=function(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},e.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},e.prototype.selectFake=function(){var t=this,r=document.documentElement.getAttribute("dir")=="rtl";this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[r?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()},e.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},e.prototype.selectTarget=function(){this.selectedText=(0,n.default)(this.target),this.copyText()},e.prototype.copyText=function(){var t=undefined;try{t=document.execCommand(this.action)}catch(n){t=!1}this.handleResult(t)},e.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},e.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},e.prototype.destroy=function(){this.removeFake()},o(e,[{key:"action",set:function(){var t=arguments.length<=0||arguments[0]===undefined?"copy":arguments[0];this._action=t;if(this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(t!==undefined){if(!t||(typeof t=="undefined"?"undefined":i(t))!=="object"||t.nodeType!==1)throw new Error('Invalid "target" value, use a valid Element');if(this.action==="copy"&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),e}();e.exports=u})},{select:6}],9:[function(t,n,r){(function(i,s){if(typeof e=="function"&&e.amd)e(["module","./clipboard-action","tiny-emitter","good-listener"],s);else if(typeof r!="undefined")s(n,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var o={exports:{}};s(o,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=o.exports}})(this,function(e,t,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function l(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e,t){var n="data-clipboard-"+e;if(!t.hasAttribute(n))return;return t.getAttribute(n)}var i=u(t),s=u(n),o=u(r),c=function(e){function t(n,r){a(this,t);var i=f(this,e.call(this));return i.resolveOptions(r),i.listenClick(n),i}return l(t,e),t.prototype.resolveOptions=function(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action=typeof t.action=="function"?t.action:this.defaultAction,this.target=typeof t.target=="function"?t.target:this.defaultTarget,this.text=typeof t.text=="function"?t.text:this.defaultText},t.prototype.listenClick=function(t){var n=this;this.listener=(0,o.default)(t,"click",function(e){return n.onClick(e)})},t.prototype.onClick=function(t){var n=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})},t.prototype.defaultAction=function(t){return h("action",t)},t.prototype.defaultTarget=function(t){var n=h("target",t);if(n)return document.querySelector(n)},t.prototype.defaultText=function(t){return h("text",t)},t.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(s.default);e.exports=c})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),function(e){var t="ontouchstart"in document.documentElement,n=5,r=function(){return t?"touchstart":"click"},i=function(t){var n=e('<ul class="errorlist"></ul>');for(var r in t)n.append("<li>"+t[r]+"<li>");return n},s=function(t){var n=this;this.element=e(t),this.element.on("submit",function(e){e.preventDefault(),n.check()}),this.paymentHandler=StripeCheckout.configure({key:e("#submission-form").data("key"),image:"https://s3.amazonaws.com/stripe-uploads/acct_16eMGmCPM407A7YYmerchant-icon-1441101156161-web-square.png",locale:"auto",name:"Emojipedia",currency:"usd"}),e("#id_emoji").on("change",function(){var t=e(this).find("option:selected").text().split(" ")[0];e(".adoption .emoji").text(t)}).trigger("change"),e("#id_display_name").on("input",function(){var t=e(this).val();t||(t=e(this).attr("placeholder")),e(".adoption .adoption-name").text(t)}).trigger("input"),e("#id_url").on("input",function(){var t=e(this).val();t||(t="http://emojipedia.org/"),t.indexOf("://")<0&&(t="http://"+t),e(".adoption .adoption-name").attr("href",t)}).trigger("input"),e("#apply-promo-code").on(r(),function(e){e.preventDefault(),n.apply_code()}),e("#submission-pay").on(r(),function(e){e.preventDefault(),n.pay()}),e("#submission-reset a").on(r(),function(e){e.preventDefault(),n.reset()}),e(window).on("popstate",function(){n.paymentHandler.close()}),this.display_amount()};s.prototype.disable=function(){this.element.find("input, textarea, select").attr("disabled",!0)},s.prototype.enable=function(){this.element.find("input, textarea, select").attr("disabled",!1)},s.prototype.check=function(){var t=this;e.post(this.element.data("validateUrl"),this.element.serialize(),function(n){t.display_errors(n.errors),t.display_amount(n.amount,n.discount),n.valid&&(t.disable(),e("#submission-check").hide(),e("#submission-pay,#submission-reset,.alert-success").show())})},s.prototype.apply_code=function(){var t=this,n=e("#id_promo_code").add('<input name="promo_code_only">').serialize();e.post(this.element.data("validateUrl"),n,function(e){t.display_errors(e.errors),t.display_amount(e.amount,e.discount)})},s.prototype.reset=function(){this.enable(),e("#submission-check").show(),e("#submission-pay,#submission-reset,.alert-success").hide()},s.prototype.pay=function(){var t=this,n=e("#id_emoji :selected").text().split(" ")[0];this.paymentHandler.open({email:e("#id_email").val(),amount:e("#id_amount").data("amount"),description:"Adoption of "+n+" Emoji: One Year",token:function(n){t.enable(),e("#id_token").val(n.id),e("#submission-form button").attr("disabled",!0),e("#submission-form").off("submit").submit()}})},s.prototype.display_errors=function(t){this.element.find(".errorlist").remove();for(var n in t)error=i(t[n]),n=="promo_code"?e("#id_"+n).parents(".control").append(error):e("#id_"+n).after(error)},s.prototype.display_amount=function(t,n){var r=e("#id_amount");t||(t=r.data("amount")),t=Number(t);var i="";isNaN(t)||(i=t/100,i=Number(i).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,"),i.slice(-3)==".00"&&(i=i.substr(0,i.length-3))),r.text(i).data("amount",t),n?e("#id_discount").text(n+"% discount"):e("#id_discount").text("")},e(function(){e("#nav-categories-toggle").on(r(),function(t){t.preventDefault();var n=e("#nav-categories");n.is(":visible")?n.hide():n.show()}),e(".adoption:not(.adoption-preview) .adoption-name").on(r(),function(){ga("send","event","adoption","click",e(this).attr("href"))});var i=e("#submission-form");i.length&&new s(i),e(".home-content .search-form input").trigger("focus"),e(".short-link input").on(r(),function(){this.select()});var o=function(){var t=e(this).parent().find(".vendor-rollout"),n=t.parent(),r=n.outerHeight()?0:t.outerHeight();n.css({height:r},1e3);var i=t.find(".vendor-rollout-lazy");r&&window.lazySizes&&i.length&&i.each(function(){lazySizes.loader.unveil(this)}).removeClass("vendor-rollout-lazy")};if(t){var u,a;e(".vendor-rollout-target").on("touchstart",function(e){u=e.originalEvent.touches[0].pageX,a=e.originalEvent.touches[0].pageY}).on("touchend",function(t){if(u===null)return;var r=t.originalEvent.changedTouches?t.originalEvent.changedTouches:t.originalEvent.touches,i=r[0].pageX-u,s=r[0].pageY-a;u=a=null;var o=Math.sqrt(Math.pow(i,2)+Math.pow(s,2));o<n&&e(this).trigger("tap")}).on("tap",o).on("touchstart","a",function(e){e.stopPropagation()})}else e(".vendor-rollout-target").on("click",o).on("click","a",function(e){e.stopPropagation()})});var o=new Clipboard(".btn-clipboard");o.on("success",function(t){var n=e(t.trigger),r=n.offset(),i=e("<div>",{text:"copied!","class":"transient",css:{top:r.top-6,left:r.left}}).appendTo(document.body).animate({opacity:0,top:"-=30"},1500);i.css("left",r.left+n.outerWidth()/2-i.outerWidth()/2).promise().then(function(){e(this).remove()}),t.clearSelection()}),o.on("error",function(t){var n=e(t.trigger),r=n.offset(),i="Ctrl";/Mac/.test(navigator.platform)&&(i="Command");var s=e("<div>",{html:"Almost there! Press <b>"+i+"-C<"+"/b> now to copy.","class":"feedback",css:{top:r.top-20,left:r.left}}).appendTo(document.body);s.css("left",r.left+n.outerWidth()/2-s.outerWidth()/2).on("click",function(){s.remove()}),$document.one("keypress",function(){s.remove()})})}(jQuery)}).call(this);
